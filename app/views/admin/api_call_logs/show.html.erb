<div style="max-width: 1000px; margin: 50px auto; padding: 20px;">
  <h1 style="color: #17a2b8; border-bottom: 3px solid #17a2b8; padding-bottom: 10px;">【管理者】SMDL簡易版 - API呼び出し詳細</h1>

<div class="card" style="margin-top: 20px;">
  <div class="card-body">
    <h5 class="card-title">Basic Information</h5>
    <p><strong>ID:</strong> <%= @api_call_log.id %></p>
    <p><strong>API Type:</strong> <%= @api_call_log.api_type %></p>
    <p><strong>Endpoint:</strong> <%= @api_call_log.endpoint %></p>
    <p>
      <strong>Status:</strong>
      <span class="badge <%= @api_call_log.status == 'success' ? 'bg-success' : 'bg-danger' %>">
        <%= @api_call_log.status %>
      </span>
    </p>
    <p><strong>Called At:</strong> <%= @api_call_log.called_at.strftime('%Y-%m-%d %H:%M:%S') %></p>

    <% if @api_call_log.simple_transaction %>
      <p>
        <strong>Transaction:</strong>
        <%= link_to "Transaction ##{@api_call_log.simple_transaction_id}", admin_simple_transaction_path(@api_call_log.simple_transaction), class: 'btn btn-sm btn-primary' %>
      </p>
    <% end %>
  </div>
</div>

<div class="card mt-3">
  <div class="card-body">
    <h5 class="card-title">Request Body</h5>
    <pre><%= @api_call_log.request_body %></pre>
  </div>
</div>

<div class="card mt-3">
  <div class="card-body">
    <h5 class="card-title">Response Body</h5>
    <pre><%= @api_call_log.response_body %></pre>
  </div>
</div>

  <div class="mt-3" style="margin-top: 30px;">
    <%= link_to 'API履歴一覧に戻る', admin_api_call_logs_path, class: 'btn btn-secondary' %>
  </div>
</div>
